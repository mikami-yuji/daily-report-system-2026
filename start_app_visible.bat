@echo off
chcp 932 > nul
setlocal

echo ---------------------------------------------------
echo  ?c?????V?X?e????N??????????...
echo  (?????????????????????)
echo ---------------------------------------------------

where python > nul 2>&1
if %ERRORLEVEL% NEQ 0 (
    echo [ERROR] Python?????????????B?C???X?g?[??????????????B
    pause
    exit /b
)

where npm > nul 2>&1
if %ERRORLEVEL% NEQ 0 (
    echo [ERROR] Node.js (npm) ?????????????B?C???X?g?[??????????????B
    pause
    exit /b
)

echo [1/3] ?o?b?N?G???h(?T?[?o?[)??N????...
cd backend
start /min "Daily Report Backend" cmd /c "python -m uvicorn main:app --host 0.0.0.0 --port 8001"
cd ..

timeout /t 3 > nul

echo [2/3] ?t?????g?G???h(???)??N????...
cd frontend
start /min "Daily Report Frontend" cmd /c "npm run dev"
cd ..

echo [3/3] ?u???E?U??N???????...
timeout /t 5 > nul
start http://localhost:3000

echo.
echo ===================================================
echo  ?N???????I
echo  ?u???E?U???\??????????????????????B
echo.
echo  ?I????????A??????????????
echo  ?u?c?????V?X?e????~.vbs?v????s????????????B
echo ===================================================
pause