(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55436,e=>{"use strict";let s=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>s],55436)},25652,e=>{"use strict";let s=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>s],25652)},14098,e=>{"use strict";var s=e.i(43476),t=e.i(71645),l=e.i(9165),r=e.i(55436),a=e.i(87316),d=e.i(78583),x=e.i(25652),i=e.i(88844);function c(){let[e,c]=(0,t.useState)([]),[n,o]=(0,t.useState)(!0),[m,h]=(0,t.useState)([]),[f,b]=(0,t.useState)(""),[j,p]=(0,t.useState)([]),[u,g]=(0,t.useState)(""),[N,v]=(0,t.useState)([]),[w,y]=(0,t.useState)(""),[k,S]=(0,t.useState)([]);(0,t.useEffect)(()=>{(0,l.getFiles)().then(e=>{h(e.files),b(e.default)}).catch(e=>console.error("Failed to load files:",e))},[]),(0,t.useEffect)(()=>{f&&(0,l.getReports)(f).then(e=>{c(e),o(!1);let s=new Set;e.forEach(e=>{let t=e.得意先CD?String(e.得意先CD):"",l=e["デザイン依頼No."];t&&"-"!==t&&l&&"-"!==l&&s.add(t)}),p(Array.from(s).sort())}).catch(e=>{console.error(e),o(!1)})},[f]),(0,t.useEffect)(()=>{if(!u){v([]),y(""),S([]);return}let s=new Set;e.forEach(e=>{if(String(e.得意先CD)===u){let t=e["デザイン依頼No."];t&&"-"!==t&&s.add(String(t))}}),v(Array.from(s).sort()),y(""),S([])},[u,e]),(0,t.useEffect)(()=>{u&&w?S(e.filter(e=>String(e.得意先CD)===u&&String(e["デザイン依頼No."])===w).sort((e,s)=>{let t=new Date(e.日付||"").getTime();return new Date(s.日付||"").getTime()-t})):S([])},[w,u,e]);let C=s=>{let t=e.find(e=>String(e.得意先CD)===s);return t?.訪問先名||s};return(0,s.jsxs)("div",{className:"space-y-4 h-[calc(100vh-8rem)] flex flex-col",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center bg-white p-4 rounded border border-sf-border shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"bg-sf-light-blue p-2 rounded text-white shadow-sm",children:(0,s.jsx)(i.Package,{size:20})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-sf-text-weak font-medium",children:"オブジェクト"}),(0,s.jsx)("h1",{className:"text-xl font-bold text-sf-text",children:"デザイン進捗管理"})]})]}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)("select",{value:f,onChange:e=>b(e.target.value),className:"text-sm text-sf-text bg-white border border-sf-border rounded px-3 py-2",children:m.map(e=>(0,s.jsx)("option",{value:e.name,children:e.name},e.name))})})]}),(0,s.jsxs)("div",{className:"bg-white p-4 rounded border border-sf-border shadow-sm",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:[(0,s.jsx)(r.Search,{size:16,className:"inline mr-1"}),"得意先CD"]}),(0,s.jsxs)("select",{value:u,onChange:e=>g(e.target.value),className:"w-full border border-sf-border rounded px-3 py-2 text-sf-text",children:[(0,s.jsx)("option",{value:"",children:"-- 得意先を選択 --"}),j.map(e=>(0,s.jsxs)("option",{value:e,children:[e," - ",C(e)]},e))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:[(0,s.jsx)(d.FileText,{size:16,className:"inline mr-1"}),"デザイン依頼No."]}),(0,s.jsxs)("select",{value:w,onChange:e=>y(e.target.value),className:"w-full border border-sf-border rounded px-3 py-2 text-sf-text",disabled:!u,children:[(0,s.jsx)("option",{value:"",children:"-- デザイン依頼Noを選択 --"}),N.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]})]}),u&&0===N.length&&(0,s.jsx)("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded text-sm text-yellow-800",children:"この得意先にはデザイン依頼がありません"})]}),(0,s.jsx)("div",{className:"bg-white border border-sf-border shadow-sm flex-1 overflow-auto rounded",children:w?0===k.length?(0,s.jsx)("div",{className:"p-10 text-center text-sf-text-weak",children:"進捗履歴が見つかりません"}):(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("div",{className:"mb-6 p-4 bg-gray-50 rounded border border-sf-border",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-sf-text-weak mb-1",children:"得意先CD"}),(0,s.jsx)("p",{className:"font-semibold text-sf-text",children:u})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-sf-text-weak mb-1",children:"得意先名"}),(0,s.jsx)("p",{className:"font-semibold text-sf-text",children:C(u)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-sf-text-weak mb-1",children:"デザイン依頼No."}),(0,s.jsx)("p",{className:"font-semibold text-sf-text",children:w})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-sf-text-weak mb-1",children:"最新進捗状況"}),(0,s.jsx)("p",{className:"font-semibold text-sf-text",children:k.length>0?k[0].デザイン進捗状況:"-"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-sf-text-weak mb-1",children:"更新回数"}),(0,s.jsx)("p",{className:"font-semibold text-sf-light-blue text-xl",children:k.length})]})]})}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("h3",{className:"font-semibold text-sf-text flex items-center gap-2",children:[(0,s.jsx)(x.TrendingUp,{size:20,className:"text-sf-light-blue"}),"進捗履歴"]}),(0,s.jsx)("div",{className:"relative border-l-2 border-sf-light-blue ml-4 pl-6 space-y-6",children:k.map((e,t)=>(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute -left-[1.6rem] top-2 w-4 h-4 bg-sf-light-blue rounded-full border-4 border-white shadow"}),(0,s.jsxs)("div",{className:"bg-white border border-sf-border rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(a.Calendar,{size:16,className:"text-sf-text-weak"}),(0,s.jsx)("span",{className:"font-semibold text-sf-text",children:e.日付})]}),(0,s.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${"完了"===e.デザイン進捗状況?"bg-green-100 text-green-700":"進行中"===e.デザイン進捗状況?"bg-blue-100 text-blue-700":"保留"===e.デザイン進捗状況?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:e.デザイン進捗状況||"未設定"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-sf-text-weak mb-1",children:"行動内容"}),(0,s.jsx)("p",{className:"text-sf-text",children:e.行動内容||"-"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-sf-text-weak mb-1",children:"面談者"}),(0,s.jsx)("p",{className:"text-sf-text",children:e.面談者||"-"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-sf-text-weak mb-1",children:"デザイン種別"}),(0,s.jsx)("p",{className:"text-sf-text",children:e.デザイン種別||"-"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-sf-text-weak mb-1",children:"デザイン名"}),(0,s.jsx)("p",{className:"text-sf-text",children:e.デザイン名||"-"})]})]}),e.商談内容&&(0,s.jsxs)("div",{className:"mt-3 pt-3 border-t border-sf-border",children:[(0,s.jsx)("p",{className:"text-xs text-sf-text-weak mb-1",children:"商談内容"}),(0,s.jsx)("p",{className:"text-sm text-sf-text",children:e.商談内容})]}),e.次回プラン&&(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)("p",{className:"text-xs text-sf-text-weak mb-1",children:"次回プラン"}),(0,s.jsx)("p",{className:"text-sm text-sf-text bg-blue-50 p-2 rounded",children:e.次回プラン})]})]})]},t))})]})]}):(0,s.jsxs)("div",{className:"p-10 text-center text-sf-text-weak",children:[(0,s.jsx)(i.Package,{size:48,className:"mx-auto mb-4 opacity-30"}),(0,s.jsx)("p",{children:"得意先CDとデザイン依頼Noを選択してください"})]})}),w&&(0,s.jsxs)("div",{className:"p-2 bg-white border border-sf-border rounded text-xs text-sf-text-weak",children:[k.length," 件の進捗記録"]})]})}e.s(["default",()=>c])}]);